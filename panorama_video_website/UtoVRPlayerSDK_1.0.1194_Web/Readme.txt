UtoVR Player SDK for Web开发包：

*****************************************

简介：

UtoVR Player是一款全景视频播放器。它支持360度空间全景视频的播放。观看者通过与播放器的交互，可以体验到身临其境的视觉效果。UtoVR Player SDK可以帮助你在自己的应用中，快速实现全景视频的播放效果。

*****************************************

功能：

1，支持视频格式：h264编码的mp4等视频文件；
2，支持播放普通全景视频（2：1）；
3，支持2K高清、4K超高清的全景视频播放；
4，支持点播（mp4）、直播（RTMP格式）播放全景视频；
5，支持PC端的鼠标，移动端手指的上、下、左、右的滑动，放大、缩小全景视频的操作；
6，支持移动端的陀螺仪的上、下、左、右控制全景视频的操作；
7，支持单屏/双屏（VR模式）的操作；
8，支持全屏、非全屏的操作；
9，支持视频的播放、暂停、以及时间进度条的控制；

注：免费版本的SDK不支持直播功能，并且UI画面的右上角带有"UtoVR"字样的版权信息，具体免费版本和定制版本的功能区别请参见官网。

*****************************************

包含内容：

1，doc：文档，主要是SDK使用说明。

2，lib：SDK所需的文件，如果开发者使用时，请将该目录下所有文件拷贝到自己工程的对应目录下。
其中：player目录包含以下文件：        
a，UtoVRPlayerGuide.js 为播放器入口引导文件。主要功能是自动识别使用flash或者是HTML5的播放器模式，其中默认优先使用HTML5的模式播放全景视频，当浏览器不支持HTML5播放全景视频时，自动切换到flash模式。
b，UtoVRPlayer.js  为HTML5播放器。
c，UtoVRPlayer.swf 为flash播放器。
d，plugin目录 为HTML5播放器的默认插件目录 包括视频工具栏和陀螺仪插件。

3，sample：Demo程序，演示了如何使用UtoVR全景播放器SDK，双击HTML页面即可。其中"sample_固定尺寸.html"为固定尺寸模式案例，"sample_全屏尺寸.html"为全屏尺寸模式案例。

*****************************************

注意事项：

1，本地打开案例页面，出现Adobe Flash Player安全性，请点击确定。如果还未看到画面，请在控制面板->Flash Player(32位)->高级->受信任位置设置->添加->添加文件夹，把案例页面所在的文件夹加入。关闭页面，重新再打开。

2，如果要观看HTML5播放效果，请将案例放到Web站点(比如整个sample目录放到Web站点)，然后用Chrome浏览器访问。


*****************************************

反馈：

官网：http://www.utovr.com

技术支持：support@utovr.com

bbs： http://bbs.utovr.com/forum.php?mod=forumdisplay&fid=49

真心希望收到各位的使用反馈。以便更好的服务于大家！


*****************************************

版本更新列表：
*****************************************
版本：1.0.1194 发布时间： 2023-9-27
1，优化百度浏览器/百度app内播放VR视频；
2，优化UC浏览器播放VR视频；

*****************************************
版本：1.0.1193 发布时间： 2021-12-16
1，修复iOS15.2下播放HLS的问题；

*****************************************
版本：1.0.1192 发布时间： 2020-04-13
1，优化iOS13+safari下第一次Touch判断，变为：
            //判断是否第一次Touch，从而在iOS13以上进行一次弹框让用户选择是否允许使用陀螺仪
            if (this.isFirstTouch) {
                this.isFirstTouch = false;
                //针对iOS13的safari判断，注意在iOS13的微信里，不存在eviceOrientationEvent.requestPermission
                if (typeof DeviceOrientationEvent !== "undefined" && typeof DeviceOrientationEvent.requestPermission === "function") {
                    DeviceOrientationEvent.requestPermission().then(function(permissionState) {
                        if (permissionState === "granted") {
                            //同意就启用陀螺仪，这里没有通过重新刷新页面的方式
                            uvSetEnableGyro();
                        } else {
                            if (window.top != window) {
                                //iframe方式，给根window抛一个事件，让其启用陀螺仪
                                uvSetEnableIframeGyro(true);
                                window.top.postMessage({
                                    type: "gyroCreate"
                                }, "*");
                            } else {
                                //非iframe方式，直接就禁用陀螺仪了
                                uvDisableGyro && uvDisableGyro();
                            }
                        }
                    }).catch(console.error);
                }
            }
具体请参考lib\player\plugin\videoToolBar\js\video_toolbar_src.js。


*****************************************
版本：1.0.1191 发布时间： 2020-04-07

1,优化播放器；
2,解决iOS13+safari下陀螺仪问题。对于自定义UI的，如何解决iOS13+safari问题，请参考lib\player\plugin\videoToolBar\js\video_toolbar_src.js里的 this.togglePlay = function() {
}
具体如下这部分：
            //判断是否有引导层并且引导层是否被removeChild，从而在iOS13以上进行一次弹框让用户选择是否允许使用陀螺仪
            if (this.beginLayer && this.beginLayer.parentNode) {
                //针对iOS13+的safari判断
                if (typeof DeviceOrientationEvent !== "undefined" && typeof DeviceOrientationEvent.requestPermission === "function") {
                    DeviceOrientationEvent.requestPermission().then(function(permissionState) {
                        if (permissionState === "granted") {
                            //同意就启用陀螺仪
                            uvSetEnableGyro();
                        } else {
                            if (window.top != window) {
                                //iframe方式，给根window抛一个事件，让其启用陀螺仪
                                uvSetEnableIframeGyro(true);
                                window.top.postMessage({
                                    type: "gyroCreate"
                                }, "*");
                            } else {
                                //非iframe方式，直接就禁用陀螺仪了
                                uvDisableGyro && uvDisableGyro();
                            }
                        }
                    }).catch(console.error);
                }
            }

*****************************************
版本：1.0.1190 发布时间： 2020-04-02

1,解决flat模式播放bug；

--------------------------------------------------------------

版本：1.0.1190 发布时间： 2020-03-18

1,优化播放器；
2,解决iOS13+safari下陀螺仪问题；


--------------------------------------------------------------
版本：1.0.1189 发布时间： 2020-02-27

1,优化播放器


--------------------------------------------------------------
版本：1.0.1188 发布时间： 2018-02-07

1,修复Android下 不支持视频播放的 回调处理

2，修复IOS下 不支持视频播放的回调处理

3，修复IOS下 微博全屏播放的问题

--------------------------------------------------------------
版本：1.0.1187 发布时间： 2018-01-17

1,调整陀螺仪开启后动画归位的功能

2，修复全景图多场景切换后陀螺仪位置偏移的问题

3，修复错误回调函数连续调用的问题

4，其他优化
--------------------------------------------------------------
版本：1.0.1186 发布时间： 2018-01-04

1,webSDK新增剧场模式Sample

2，修复同时实例化多个播放器的bug

3, 修复HLS高清视频在iPhone机型上面播放模糊的问题

4，引导js兼容处理

5，陀螺仪插件更新

6，SDK性能优化

7，其他bug修复
--------------------------------------------------------------
版本：1.0.1184 发布时间： 2017-11-03

1.新增惯性拖动参数配置dragMode （true为惯性拖动，false 为平面拖放，默认false，）

2，拖动方向配置dragDirectionMode（场景拖动方向模式  true : 与鼠标方向相同  false : 与鼠标方向相反，默认true）

3，调整引导js ie下 如果配置场景为Image类型，取消flash优先机制，改成auto模式

4，新增SDK 的api使用和场景问题的ptf文档

5，修复flash视频播放闪现的问题

6，新增flash模式未安装插件提示

7，新增连接后缀加?debug=true信息显示版本号的操作

8，更新HLS插件，修复hls播放暂停的问题

9，修复视频配置了循环播放 不执行的问题

10，修复初始小行星闪烁的问题

11，修复移动端双指缩放场景抖动的问题

12，其他优化
--------------------------------------------------------------
版本：1.0.1183 发布时间： 2017-09-27

1，修复IOS 11 直播黑屏的问题

2，修复IOS 11 WebGL绘制 rgba 修正的问题

3，视频播放的优化

4, 其他bug的修复

5, 已知ios11 问题： 播放m3u8文件的时候 循环播放 后 黑屏 （GL无法读取hls视频数据）
--------------------------------------------------------------
版本：1.0.1182 发布时间： 2017-08-02

1，h5开放在线漫游制作的api接口

2，ios9 微信直播黑屏的bug修复

3，加载优化调整

4，全景图片分块加载功能的新增

5,其他bug的修复

--------------------------------------------------------------
版本：1.0.1181 发布时间： 2017-06-26

1, 新增了多场景切换的过渡效果

2，优化了全景图片的加载机制

4，调整了球模型的顶点分割，减少渲染的畸变

5, ios中嵌入iframe gyroHelp传递参数的问题

6，其他优化
--------------------------------------------------------------
版本：1.0.1180 发布时间： 2017-05-17

1, 修复播放失败主动切换到普通模式后不显示的问题

2，修复gyroHelp.js 影响ios iframe 页面的播放问题，可以一个页面嵌入多个iframe播放页面

3，SDK包新增 iframe嵌入播放器页面案例

4，播放器窗口尺寸改变的性能优化

5，扩展了H5 在Android微信下面 的视频格式支持

6，其他优化


--------------------------------------------------------------
版本：1.0.1178 发布时间： 2017-05-12

1, 修复H5  api切换视频的bug

2, 优化hls直播的问题

3，其他视频加载的优化

--------------------------------------------------------------
版本：1.0.1177 发布时间： 2017-04-07

1,修复H5模式在mac上面反色的问题

2，修复m3u8直播连接识别的问题

3，修复全景分块图模型生成的问题

4，修复ios上 视频第一帧反色的问题

5，其他优化
--------------------------------------------------------------
版本：1.0.1176 发布时间： 2017-03-27

1,修复触摸笔记本鼠标和触摸双事件兼容的问题

2，修复HLS 直播的地址的问题

3，修复引导js  flash模式播放hls的问题

4，H5 扩展了鼠标移动场景旋转的配置

5，性能优化 稳定 2K（1920*960）视频 可以达到 60FPS 的画面渲染

--------------------------------------------------------------
版本：1.0.1175 发布时间： 2017-03-08


1, 修复微信全屏播放黑屏的问题

2，修复ios UC不支持VR播放的异常处理

3, 调整工具栏双屏模式功能（开启关闭不会影响陀螺仪的问题）

4，新增高清图播放功能

5, 调整了SDK中的播放sample页面
--------------------------------------------------------------
版本：1.0.1174 发布时间： 2017-02-21


1, 修复ios微信 vr直播 部分手机黑屏的问题

2，修复flash  rtmp  直播的问题

3, 修复影响ios 键盘输入的问题

4，调整分屏模式自动适应状态，可以在锁屏方式下上下分屏

5，修复窗口resize 的问题
--------------------------------------------------------------
版本：1.0.1173 发布时间： 2017-01-17

1,（修复）兼容  android 微信 tbs/3.0 版本的直播

2，扩展 android 微信 的rtmp直播 （仅支持tbs/3.0内核）

3，其他优化
--------------------------------------------------------------
版本：1.0.1172 发布时间： 2017-01-05

1，优化插件加载机制，pc端按需加载，加快播放窗口打开速度

2，陀螺仪插件扩展，提供iframe 在ios下无法获取陀螺仪数据的解决方案！

3，修复android chrome 播放 hls seektime导致不能播放的问题

4，直播优化

5，视频播放和拖动的优化。

------------------------------------------------------------------
版本：1.0.1170 发布时间： 2016-12-16

1, 修复ios 微信 视频一直处于loading 状态的问题

2, 兼容ios 微博的视频播放功能，ios的兼容更强

3，调整配置参数  sceneType  // "image"表示全景图，"video" 表示全景视频  默认：“video"

4, 其他优化

--------------------------------------------------------------
版本：1.0.1169 发布时间： 2016-12-06

1,H5 模式开放hls点播。

2，优化视频加载

3，调整fovtype 为auto模式

4，修复h5 在部分ios闪退的问题

5，android 微信，qq，qq浏览器的播放优化

6，提升程序的稳定性

7，其他bug的修复

--------------------------------------------------------------
版本：1.0.1168 发布时间： 2016-10-26

1，修复ios10 绘制的反色问题

2，兼容ios10 的Safari VR播放

3，兼容android新版本微信，QQ的播放支持。

--------------------------------------------------------------
版本：1.0.1165	发布时间：2016-08-12

1, 调整工具栏引导提示图，新增引导点击播放的功能

2，修复Android 端 某些机型chrome版本不能播放的问题

3，修复H5 在移除SDK容器元素后，视频还在继续播放的问题

4, 更新了陀螺仪插件

5，修复横竖屏引起的画面比例的问题


版本：1.0.1163	发布时间：2016-07-28

1, ios10 safari播放的兼容处理（可以有声播放）

2，新增H5播放器尺寸自适应容器（无需配置width，height，根据播放器容器自适应功能）

3，H5移动端hls播放的优化，pc端插件的更新

4，H5播放整体性能的优化

5, 免费版本flash,h5版权位置调整

5，其他bug的修复

--------------------------------------------------------------
版本：1.0.1137	发布时间：2016-06-27

1, 优化H5 播放器的视频加载机制。

2，调整部分配置文件配置项目

3，增强SDK的容错处理

4，修复SDK 的keydown 事件 影响移动端 虚拟键盘输入的问题

5，添加videoType属性  识别给出的视频类型参数播放

6，Android，微博，微信，qq等 播放兼容适配

4，其他bug修复

--------------------------------------------------------------
版本：1.0.1129	发布时间：2016-05-10

1, 优化 H5 播放性能，提高绘制效率，提高大视口播放的流畅性。提高全屏播放的流畅性。

2，扩展app内嵌isMoveVideoFrame参数配置(适用于ios app内嵌webSDK配置开启了allowsInlineMediaPlayback)

3，扩展视频左右视差配置 DBViewIPD，和api接口 api_getDBViewIPD，api_setDBViewIPD

4，扩展码率切换api： api_changeVideoPath（path,seek）;

5，新增码率切换 成功 或 失败回调  changeSucessCallBack   changeErrorCallBack

6，扩展一键VR模式api：api_enterVRModel，api_exitVRModel

7，调整新版工具栏插件（兼容老版本的工具栏插件）

8，其他性能优化调整，及bug的修复

--------------------------------------------------------------
版本：1.0.1125	发布时间：2016-4-14

1, 扩展H5 播放器的playEndCallBack回调函数

2, 修复H5 移动端根据设备DPI 设置高清 SDK字样

3，修复H5 全景图播放 引导不消失的问题

4，其他bug的修复

--------------------------------------------------------------
版本：1.0.1116	发布时间：2016-4-11

1,新增H5 陀螺仪开启配置页面

--------------------------------------------------------------
版本：1.0.1116	发布时间：2016-4-08

1，H5 配置参数订制用户版本更新

---------------------------------------------------------------
版本：1.0.1116	发布时间：2016-4-1

1,修复H5 调用api 自动播放功能引发的工具栏bug

2,新增H5 自动播放器页面配置sample

3,优化核心播放器
---------------------------------------------------------------

版本：1.0.1114	发布时间：2016-3-24

1, 优化引导js，支持第三方插件回调H5的接口

2，更新工具栏背景样式

---------------------------------------------------------------
版本：1.0.1110	发布时间：2016-3-21

1,优化引导js，添加H5扩展函数errorCallBack，fsCallBack 回调处理函数

2，优化H5，工具栏插件

---------------------------------------------------------------
版本：1.0.1106	发布时间：2016-3-16

1,优化在mac chrome，Firefox，Opera 浏览器的兼容问题

2，Chrome/30 以下的版本切换到flash播放模式

---------------------------------------------------------------
版本：1.0.1101	发布时间：2016-3-14

1，SDK播放器优化

---------------------------------------------------------------

版本：1.0.1099	发布时间：2016-3-11

1，新增自动识别 1:1（上下模式3D） 的全景视频播放功能

2，新增自动识别 4:1 (左右模式3D)  的全景视频播放功能

3，增加程序的稳定性

---------------------------------------------------------------

版本：1.0.1098	发布时间：2016-3-10
1，修改bug；

2，增加全景图播放配置；
---------------------------------------------------------------
版本：1.0.1095	发布时间：2016-3-3

1，logo加上链接；
---------------------------------------------------------------
版本：1.0.1083	发布时间：2016-1-26

*****************************************
*****上海优土视真文化传媒有限公司********
*****************************************